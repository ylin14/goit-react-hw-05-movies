{"version":3,"file":"static/js/232.d05d0167.chunk.js","mappings":"+PACA,EAAuB,mBAAvB,EAAiD,mBAAjD,EAA4E,oBAA5E,EAAuG,mB,SC8DvG,MAzDA,WACE,OAAwBA,EAAAA,EAAAA,UAAS,CAC/BC,MAAO,GACPC,WAAW,EACXC,MAAO,OAHT,eAAOC,EAAP,KAAaC,EAAb,KAKQC,GAAOC,EAAAA,EAAAA,MAAPD,IAERE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,6FAClBJ,GAAQ,SAAAK,GAAU,yBAAUA,GAAV,IAAsBR,WAAW,GAAjC,IADA,UAEKS,EAAAA,EAAAA,IAAgBL,GAFrB,gBAEVF,EAFU,EAEVA,KAER,IACEC,GAAQ,SAAAK,GAAU,yBACbA,GADa,IAEhBT,MAAOG,EACPF,WAAW,GAHK,GAWnB,CANC,MAAOC,GACPE,GAAQ,SAAAK,GAAU,yBACbA,GADa,IAEhBP,MAAOA,EAAMS,QACbV,WAAW,GAHK,GAKnB,CAhBiB,2CAAH,qDAkBjBO,GACD,GAAE,CAACH,IAEJ,IAAQL,EAA4BG,EAA5BH,MAAOC,EAAqBE,EAArBF,UAAWC,EAAUC,EAAVD,MAEpBU,EAAWZ,EAAMa,KAAI,YAA4C,IAAzCC,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,aAAcX,EAAS,EAATA,GACrDY,EAAQD,EAAY,yCACYA,GAClC,4DACJ,OACE,gBAAIE,UAAWC,EAAf,WACE,gBAAKC,IAAKH,EAAOI,IAAKN,EAAMG,UAAWC,KACvC,cAAGD,UAAWC,EAAd,SAAuBJ,KACvB,cAAGG,UAAWC,EAAd,SAAuBL,MAHGT,EAM/B,IACD,OACE,gCACGL,EAAMsB,OAAS,GACd,eAAIJ,UAAWC,EAAf,SAAwBP,KAExB,gEAEDX,IAAa,sCACbC,IAAS,uBAAIA,MAGnB,C,sLC3DKqB,E,OAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAa,mCAAG,sGACJL,EAASM,IAAI,wBADT,uBACnBC,EADmB,EACnBA,KADmB,kBAEpBA,GAFoB,2CAAH,qDAKbC,EAAY,mCAAG,WAAM1B,GAAN,yFACHkB,EAASM,IAAT,iBAAuBxB,GAAM,CAClDqB,OAAQ,CACNM,SAAU,aAHY,uBAClBF,EADkB,EAClBA,KADkB,kBAMnBA,GANmB,2CAAH,sDASZG,EAAgB,mCAAG,WAAOC,GAAP,8FAAcC,EAAd,+BAAqB,EAArB,SACPZ,EAASM,IAAT,gBAA8B,CACnDH,OAAQ,CACNS,KAAAA,EACAH,SAAU,UACVI,eAAe,EACfF,MAAAA,KAN0B,uBACtBJ,EADsB,EACtBA,KADsB,kBASvBA,GATuB,2CAAH,sDAYhBpB,EAAe,mCAAG,WAAML,GAAN,yFACNkB,EAASM,IAAT,iBAAuBxB,EAAvB,aADM,uBACrByB,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfO,EAAe,mCAAG,WAAMhC,GAAN,yFACNkB,EAASM,IAAT,iBAAuBxB,EAAvB,aADM,uBACrByB,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/Cast/cast.module.css?8374","components/Cast/Cast.jsx","shared/service/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"cast_list__bULim\",\"item\":\"cast_item__AMMjV\",\"image\":\"cast_image__tExbg\",\"text\":\"cast_text__E0CXR\"};","import { useState, useEffect } from 'react';\n\nimport { getMovieCredits } from 'shared/service/moviesApi';\nimport { useParams } from 'react-router-dom';\nimport s from './cast.module.css';\n\nfunction Cast() {\n  const [cast, setCast] = useState({\n    items: [],\n    isLoading: false,\n    error: null,\n  });\n  const { id } = useParams();\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      setCast(prevMovies => ({ ...prevMovies, isLoading: true }));\n      const { cast } = await getMovieCredits(id);\n\n      try {\n        setCast(prevMovies => ({\n          ...prevMovies,\n          items: cast,\n          isLoading: false,\n        }));\n      } catch (error) {\n        setCast(prevMovies => ({\n          ...prevMovies,\n          error: error.message,\n          isLoading: false,\n        }));\n      }\n    };\n    fetchMovies();\n  }, [id]);\n\n  const { items, isLoading, error } = cast;\n\n  const elements = items.map(({ character, name, profile_path, id }) => {\n    const photo = profile_path\n      ? `https://image.tmdb.org/t/p/w500${profile_path}`\n      : 'https://sd.keepcalms.com/i/keep-calm-poster-not-found.png';\n    return (\n      <li className={s.item} key={id}>\n        <img src={photo} alt={name} className={s.image} />\n        <p className={s.text}>{name}</p>\n        <p className={s.text}>{character}</p>\n      </li>\n    );\n  });\n  return (\n    <>\n      {items.length > 0 ? (\n        <ul className={s.list}>{elements}</ul>\n      ) : (\n        <p>We dont know anything about cast ...</p>\n      )}\n      {isLoading && <p>Loading...</p>}\n      {error && <p>{error}</p>}\n    </>\n  );\n}\n\nexport default Cast;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '48e59f58a9185405f58e5b1089c8261f',\n  },\n});\n\nexport const popularMovies = async () => {\n  const { data } = await instance.get('/trending/movie/week');\n  return data;\n};\n\nexport const getMovieInfo = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      language: 'en - US',\n    },\n  });\n  return data;\n};\n\nexport const searchFilmByName = async (query, page = 1) => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      page,\n      language: 'en - US',\n      include_adult: false,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n\n//movie/338953/credits\n"],"names":["useState","items","isLoading","error","cast","setCast","id","useParams","useEffect","fetchMovies","prevMovies","getMovieCredits","message","elements","map","character","name","profile_path","photo","className","s","src","alt","length","instance","axios","baseURL","params","api_key","popularMovies","get","data","getMovieInfo","language","searchFilmByName","query","page","include_adult","getMovieReviews"],"sourceRoot":""}