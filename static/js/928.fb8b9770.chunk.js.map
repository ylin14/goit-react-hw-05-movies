{"version":3,"file":"static/js/928.fb8b9770.chunk.js","mappings":"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","sources":["components/FilmOption/filmOption.module.css","components/FilmOption/FilmOption.jsx","webpack://react-homework-template/./src/pages/MovieDetailsPage/movieDetailsPage.module.css?c394","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/service/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { getMovieInfo } from 'shared/service/moviesApi';\n\nimport s from './filmOption.module.css';\n\nfunction FilmOption({ id }) {\n  const [film, setFilm] = useState({\n    items: {},\n    isLoading: false,\n    error: null,\n  });\n  useEffect(() => {\n    const fetchMoviesInfo = async () => {\n      setFilm(prevFilm => ({ ...prevFilm, isLoading: true }));\n      const results = await getMovieInfo(id);\n      const genresName = results.genres.map(genre => genre.name);\n\n      try {\n        setFilm(prevFilm => ({\n          ...prevFilm,\n          items: { ...results, genresName },\n          isLoading: false,\n        }));\n      } catch (error) {\n        setFilm(prevFilm => ({\n          ...prevFilm,\n          error: error.message,\n          isLoading: false,\n        }));\n      }\n    };\n    fetchMoviesInfo();\n  }, [id]);\n\n  const { items, isLoading, error } = film;\n\n  const { vote_average, overview, genresName, poster_path } = items;\n\n  const image = poster_path\n    ? `https://image.tmdb.org/t/p/w500${poster_path}`\n    : 'https://sd.keepcalms.com/i/keep-calm-poster-not-found.png';\n  const title = items.original_name || items.original_title;\n  const isRender = Boolean(Object.values(items).length > 0);\n\n  return (\n    <>\n      {isRender && (\n        <>\n          <h2 className={s.title}>{title}</h2>\n          <div className={s.wrapper}>\n            <img src={image} alt={title} />\n            <div className=\"description\">\n              <p> User score: {vote_average * 10}%</p>\n              <p>\n                <span>Overview:</span>\n                <span> {overview}</span>\n              </p>\n              <p>\n                <span>Genres:</span>\n                <span> {genresName}</span>\n              </p>\n            </div>\n          </div>\n        </>\n      )}\n      {isLoading && <p>Loading...</p>}\n      {error && <p>{error}</p>}\n    </>\n  );\n}\nFilmOption.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default FilmOption;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"movieDetailsPage_container__yoRTc\",\"btn\":\"movieDetailsPage_btn__vW4G6\",\"link\":\"movieDetailsPage_link__ZHtlQ\"};","import {\n  Link,\n  Outlet,\n  useParams,\n  useNavigate,\n  useLocation,\n} from 'react-router-dom';\n\nimport FilmOption from 'components/FilmOption';\n\nimport s from './movieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const from = location?.state?.from || '/';\n\n  const goBack = () => navigate(from);\n\n  return (\n    <div className={s.container}>\n      <button type=\"button\" className={s.btn} onClick={goBack}>\n        Go Back{' '}\n      </button>\n      <FilmOption id={id} />\n      <Link state={{ from }} to={`/movies/${id}/cast`} className={s.link}>\n        {' '}\n        Cast{' '}\n      </Link>\n      <Link state={{ from }} to={`/movies/${id}/reviews`} className={s.link}>\n        {' '}\n        Reviews{' '}\n      </Link>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '48e59f58a9185405f58e5b1089c8261f',\n  },\n});\n\nexport const popularMovies = async () => {\n  const { data } = await instance.get('/trending/movie/week');\n  return data;\n};\n\nexport const getMovieInfo = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      language: 'en - US',\n    },\n  });\n  return data;\n};\n\nexport const searchFilmByName = async (query, page = 1) => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      page,\n      language: 'en - US',\n      include_adult: false,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n\n//movie/338953/credits\n"],"names":["id","useState","items","isLoading","error","film","setFilm","useEffect","fetchMoviesInfo","prevFilm","getMovieInfo","results","genresName","genres","map","genre","name","message","vote_average","overview","poster_path","image","title","original_name","original_title","isRender","Boolean","Object","values","length","className","s","src","alt","useParams","location","useLocation","navigate","useNavigate","from","state","type","onClick","to","instance","axios","baseURL","params","api_key","popularMovies","get","data","language","searchFilmByName","query","page","include_adult","getMovieCredits","getMovieReviews"],"sourceRoot":""}