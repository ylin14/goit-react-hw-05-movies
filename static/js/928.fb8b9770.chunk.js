"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[928],{928:function(e,n,r){r.r(n),r.d(n,{default:function(){return x}});var t=r(689),a=r(87),s=r(683),i=r(861),c=r(439),u=r(757),o=r.n(u),p=r(791),l=r(809),f={},d=r(184);var v=function(e){var n=e.id,r=(0,p.useState)({items:{},isLoading:!1,error:null}),t=(0,c.Z)(r,2),a=t[0],u=t[1];(0,p.useEffect)((function(){var e=function(){var e=(0,i.Z)(o().mark((function e(){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return(0,s.Z)((0,s.Z)({},e),{},{isLoading:!0})})),e.next=3,(0,l.t2)(n);case 3:r=e.sent,t=r.genres.map((function(e){return e.name}));try{u((function(e){return(0,s.Z)((0,s.Z)({},e),{},{items:(0,s.Z)((0,s.Z)({},r),{},{genresName:t}),isLoading:!1})}))}catch(h){u((function(n){return(0,s.Z)((0,s.Z)({},n),{},{error:h.message,isLoading:!1})}))}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var v=a.items,m=a.isLoading,h=a.error,g=v.vote_average,x=v.overview,w=v.genresName,j=v.poster_path,k=j?"https://image.tmdb.org/t/p/w500".concat(j):"https://sd.keepcalms.com/i/keep-calm-poster-not-found.png",_=v.original_name||v.original_title,Z=Boolean(Object.values(v).length>0);return(0,d.jsxs)(d.Fragment,{children:[Z&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:f.title,children:_}),(0,d.jsxs)("div",{className:f.wrapper,children:[(0,d.jsx)("img",{src:k,alt:_}),(0,d.jsxs)("div",{className:"description",children:[(0,d.jsxs)("p",{children:[" User score: ",10*g,"%"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{children:"Overview:"}),(0,d.jsxs)("span",{children:[" ",x]})]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{children:"Genres:"}),(0,d.jsxs)("span",{children:[" ",w]})]})]})]})]}),m&&(0,d.jsx)("p",{children:"Loading..."}),h&&(0,d.jsx)("p",{children:h})]})},m="movieDetailsPage_container__yoRTc",h="movieDetailsPage_btn__vW4G6",g="movieDetailsPage_link__ZHtlQ",x=function(){var e,n=(0,t.UO)().id,r=(0,t.TH)(),s=(0,t.s0)(),i=(null===r||void 0===r||null===(e=r.state)||void 0===e?void 0:e.from)||"/";return(0,d.jsxs)("div",{className:m,children:[(0,d.jsxs)("button",{type:"button",className:h,onClick:function(){return s(i)},children:["Go Back"," "]}),(0,d.jsx)(v,{id:n}),(0,d.jsxs)(a.rU,{state:{from:i},to:"/movies/".concat(n,"/cast"),className:g,children:[" ","Cast"," "]}),(0,d.jsxs)(a.rU,{state:{from:i},to:"/movies/".concat(n,"/reviews"),className:g,children:[" ","Reviews"," "]}),(0,d.jsx)(t.j3,{})]})}},809:function(e,n,r){r.d(n,{fO:function(){return o},t2:function(){return u},tx:function(){return l},wW:function(){return c},zv:function(){return p}});var t=r(861),a=r(757),s=r.n(a),i=r(243).Z.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"48e59f58a9185405f58e5b1089c8261f"}}),c=function(){var e=(0,t.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/trending/movie/week");case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(s().mark((function e(n){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(n),{params:{language:"en - US"}});case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,t.Z)(s().mark((function e(n){var r,t,a,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,i.get("/search/movie",{params:{page:r,language:"en - US",include_adult:!1,query:n}});case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(s().mark((function e(n){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(n,"/credits"));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(s().mark((function e(n){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("/movie/".concat(n,"/reviews"));case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=928.fb8b9770.chunk.js.map